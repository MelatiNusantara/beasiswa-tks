<!-- Tailwind CDN -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<!-- Header -->
<header class="top-0 left-0 w-full bg-white z-50 shadow-md border-b border-[#FDA79B]">
  <div class="w-full px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">

    <!-- Logo -->
    <div class="flex items-center gap-2">
      <img src="images/iconNavbar.png" alt="Shiplab Logo" class="h-8" />
      <span class="text-xl font-bold text-gray-800">TKS</span>
    </div>

    <!-- Hamburger Button (Mobile) -->
    <button id="menuToggle" class="sm:hidden text-2xl text-gray-800 focus:outline-none">
      &#9776;
    </button>

    <!-- Navigation (Default: hidden on mobile) -->
    <nav id="navMenu" class="hidden sm:flex gap-6 text-base text-gray-700 font-medium">
      <a href="{{ '/' | relative_url }}" class="nav-link" data-link="home">Home</a>
      <div class="relative">
        <button id="programToggle" class="nav-link focus:outline-none">Program</button>
        <div id="programMenu" class="absolute hidden bg-white shadow-md mt-2 rounded-md z-50 min-w-[200px]">
          <a href="{{ '/program/beasiswa' | relative_url }}" class="block px-4 py-2 hover:bg-gray-100">Program Beasiswa</a>
          <a href="{{ '/program/fellowship' | relative_url }}" class="block px-4 py-2 hover:bg-gray-100">Changemaker Fellowship</a>
          <a href="{{ '/program/alumni' | relative_url }}" class="block px-4 py-2 hover:bg-gray-100">Alumni Circle</a>
        </div>
      </div>
      <!-- <a href="{{ '/registration' | relative_url }}" class="nav-link" data-link="registration">Procedure</a>
      <a href="{{ '/timeline' | relative_url }}" class="nav-link" data-link="timeline">Timeline</a> -->
      <a href="{{ '/penerima' | relative_url }}" class="nav-link" data-link="penerima">Penerima</a>
      <a href="#contact" class="nav-link" data-link="contact">Contact</a>
    </nav>
  </div>

  <!-- Mobile Menu (Dropdown) -->
  <div id="mobileMenu" class="sm:hidden hidden px-6 pb-4">
    <nav class="flex flex-col gap-3 text-base text-gray-700 font-medium">
      <a href="{{ '/' | relative_url }}" class="nav-link" data-link="home">Home</a>
      <div class="flex flex-col">
        <span class="font-medium">Program</span>
        <div class="ml-4 flex flex-col gap-1">
          <a href="{{ '/program/beasiswa' | relative_url }}" class="nav-link">• Program Beasiswa</a>
          <a href="{{ '/program/fellowship' | relative_url }}" class="nav-link">• Changemaker Fellowship</a>
          <a href="{{ '/program/alumni' | relative_url }}" class="nav-link">• Alumni Circle</a>
        </div>
      </div>
      <!-- <a href="{{ '/registration' | relative_url }}" class="nav-link" data-link="registration">Procedure</a>
      <a href="{{ '/timeline' | relative_url }}" class="nav-link" data-link="timeline">Timeline</a> -->
      <a href="{{ '/penerima' | relative_url }}" class="nav-link" data-link="penerima">Penerima</a>
      <a href="#contact" class="nav-link" data-link="contact">Contact</a>
    </nav>
  </div>
</header>

<!-- Script untuk Active Link -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const programToggle = document.getElementById('programToggle');
    const programMenu = document.getElementById('programMenu');

    if (toggle && mobileMenu) {
      toggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });
    }

    // Toggle for Program submenu (desktop)
    if (programToggle && programMenu) {
      programToggle.addEventListener('click', (e) => {
        e.preventDefault();
        programMenu.classList.toggle('hidden');
      });
    }

    // Active link highlight
    const links = document.querySelectorAll("nav a");
    links.forEach(link => {
      link.addEventListener("click", function () {
        links.forEach(l => l.classList.remove("text-[#FA541C]"));
        this.classList.add("text-[#FA541C]");
        if (mobileMenu) mobileMenu.classList.add("hidden");
      });
    });
  });
</script>
