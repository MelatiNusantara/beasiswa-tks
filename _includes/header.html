<!-- Tailwind CDN -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<!-- Header -->
<header class="top-0 left-0 w-full bg-white z-50 shadow-md border-b border-[#FDA79B]">
  <div class="w-full px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">

    <!-- Logo -->
    <div class="flex items-center gap-2">
      <img src="images/iconNavbar.png" alt="Shiplab Logo" class="h-8" />
      <span class="text-xl font-bold text-gray-800">TKS</span>
    </div>

    <!-- Hamburger Button (Mobile) -->
    <button id="menuToggle" class="sm:hidden text-2xl text-gray-800 focus:outline-none">
      &#9776;
    </button>

    <!-- Navigation (Default: hidden on mobile) -->
    <nav id="navMenu" class="hidden sm:flex gap-6 text-base text-gray-700 font-medium relative">
      <a href="{{ '/' | relative_url }}" class="nav-link" data-link="home">Home</a>

      <div class="relative group">
        <button id="programToggle" class="header-button nav-link focus:outline-none group-hover:text-orange-500 transition">
          Program
        </button>
        
        <div id="programMenu" class="absolute hidden group-hover:block bg-white shadow-lg mt-2 rounded-xl z-50 min-w-[220px] border border-gray-200">
          <a href="{{ '/program/beasiswa' | relative_url }}" class="block px-5 py-3 text-gray-700 hover:bg-orange-500 hover:text-white rounded-t-xl transition-all duration-200 ease-in-out">Program Beasiswa</a>
          <a href="{{ '/program/fellowship' | relative_url }}" class="block px-5 py-3 text-gray-700 hover:bg-orange-500 hover:text-white transition-all duration-200 ease-in-out">Changemaker Fellowship</a>
          <a href="{{ '/program/alumni' | relative_url }}" class="block px-5 py-3 text-gray-700 hover:bg-orange-500 hover:text-white rounded-b-xl transition-all duration-200 ease-in-out">Alumni Circle</a>
        </div>
      </div>

      <a href="{{ '/penerima' | relative_url }}" class="nav-link" data-link="penerima">Penerima</a>
      <a href="#contact" class="nav-link" data-link="contact">Contact</a>
    </nav>
  </div>

  <!-- Mobile Menu (Dropdown) -->
  <div id="mobileMenu" class="sm:hidden hidden px-6 pb-4">
    <nav class="flex flex-col gap-3 text-base text-gray-700 font-medium">
      <a href="{{ '/' | relative_url }}" class="mobile-header-button w-full text-left px-4 py-3 rounded-lg transition" data-link="home">Home</a>
      <div class="md:hidden">
        <button id="mobileProgramToggle" class="mobile-header-button w-full text-left px-4 py-3 rounded-lg transition">
          Program
        </button>
        <div id="mobileProgramMenu" class="hidden bg-white px-4 py-2 space-y-1 mt-1">
          <a href="{{ '/program/beasiswa' | relative_url }}" class="block py-2 px-3 text-gray-700 hover:bg-orange-500 hover:text-white rounded-md transition">Program Beasiswa</a>
          <a href="{{ '/program/fellowship' | relative_url }}" class="block py-2 px-3 text-gray-700 hover:bg-orange-500 hover:text-white rounded-md transition">Changemaker Fellowship</a>
          <a href="{{ '/program/alumni' | relative_url }}" class="block py-2 px-3 text-gray-700 hover:bg-orange-500 hover:text-white rounded-md transition">Alumni Circle</a>
        </div>
      </div>
      <a href="{{ '/penerima' | relative_url }}" class="mobile-header-button w-full text-left px-4 py-3 rounded-lg transition" data-link="penerima">Penerima</a>
      <a href="#contact" class="mobile-header-button w-full text-left px-4 py-3 rounded-lg transition" data-link="contact">Contact</a>
    </nav>
  </div>
</header>

<!-- Script -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const programToggle = document.getElementById('programToggle');
    const programMenu = document.getElementById('programMenu');
    const mobileToggle = document.getElementById("mobileProgramToggle");
    const mobileProgramMenu = document.getElementById("mobileProgramMenu");


    if (toggle && mobileMenu) {
      toggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });
    }

    // Toggle for Program submenu (desktop)
    if (programToggle && programMenu) {
      programToggle.addEventListener('click', () => {
        programMenu.classList.toggle('hidden');
      });

      // Menutup dropdown jika klik di luar
      document.addEventListener('click', function (event) {
        const isClickInside = programToggle.contains(event.target) || programMenu.contains(event.target);
        if (!isClickInside) {
          programMenu.classList.add('hidden');
        }
      });
    }

    if (mobileToggle && mobileProgramMenu) {
      mobileToggle.addEventListener("click", () => {
        mobileProgramMenu.classList.toggle("hidden");
      });
    }

    // Active link highlight
    const links = document.querySelectorAll("nav a");
    links.forEach(link => {
      link.addEventListener("click", function () {
        links.forEach(l => l.classList.remove("text-[#FA541C]"));
        this.classList.add("text-[#FA541C]");
        if (mobileMenu) mobileMenu.classList.add("hidden");
      });
    });
  });
</script>
